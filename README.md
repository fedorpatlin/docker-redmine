# Образ с предустановленной системой redmine на ОС Centos7
Если просто запустить контейнер командой
```
docker run -p 3000:3000 --name <container_name> <redmine_image_name>
```
то redmine запустится и будет слушать порт 3000. Вместо базы данных в этом случае используется sqlite.
## Переменные окружения:
### Настройка базы данных
База данных настраивается с помощью файла database.yml, находящегося в директории /config контейнера.

### Настройка почты
Почта и другие настройки делаются в файле configuration.yml из директории /config контейнера.

## Запуск контейнера с измененными настройками
Настроечные файлы database.yml и configuration.yml должны быть размещены в любом каталоге, который монтируется как том при запуске контейнера.
```
docker run -v custom_redmine_config_dir:/config <another options> <redmine_image_name>
```

При кадлом старте контейнера производятся автоматические миграции базы данных. Для того, чтобы миграции не запускались перед стартом приложения в контейнере, установите переменную окружения NO_MIGRATION
```
docker run -e NO_MIGRATION="true" ... <redmine_image_name>
```
